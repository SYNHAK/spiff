<form class="form-horizontal" ng-submit="requestReset()">
  <div class="modal-header">
    <h3>Reset Password</h3>
  </div>
  <div class="modal-body">
    <div ng-if="state == 0">
      <div class="control-group">
        <label class="control-label" for="userid">
          Username or Email:
        </label>
        <div class="controls">
          <input type="text" id="userid" ng-model="d.userid">
        </div>
      </div>
    </div>
    <div ng-if="state == 1">
      <div class="alert">
        A reset code has been sent to {{d.userid}}.
      </div>
      <div class="control-group">
        <label class="control-label" for="code">
          Reset Code:
        </label>
        <div class="controls">
          <input type="text" id="code" ng-model="d.resetCode">
        </div>
      </div>
    </div>
    <div ng-if="state == 2">
      <div class="control-group">
        <label class="control-label" for="code">
          New Password:
        </label>
        <div class="controls">
          <input type="password" id="code" ng-model="d.newPass">
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button ng-if="state == 0" type="submit" class="btn btn-primary">Request Reset Code</button>
    <button ng-if="state == 1" type="submit" class="btn btn-primary">Confirm</button>
    <button ng-if="state == 2" type="submit" class="btn btn-primary">Change Password</button>
    <button type="btn" ng-click="$cancel()">Cancel</button>
  </div>
</div>
